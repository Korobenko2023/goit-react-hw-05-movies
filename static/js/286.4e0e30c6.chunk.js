"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[286],{286:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var r=a(678),s=a(641),n=a(791),i=a(218),c=a(689),l=a(87),o=a(28),d=a(184);const h=e=>{let{description:{poster_path:t,title:a,vote_average:r,overview:s,genres:n}}=e;const i="https://image.tmdb.org/t/p/original/".concat(t);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("img",{src:t?i:"https://image.tmdb.org/t/p/original//nQvoM7BMswq1raENOkOjCBt94gk.jpg",width:250,alt:"\u043f\u043e\u0441\u0442\u0435\u0440"}),";",(0,d.jsx)("h1",{children:a}),(0,d.jsxs)("p",{children:["Rating: ",Math.round(r)]}),(0,d.jsx)("h2",{children:"Overview"}),(0,d.jsx)("p",{children:s}),(0,d.jsx)("h3",{children:"Genres"}),(0,d.jsx)("ul",{children:null===n||void 0===n?void 0:n.map((e=>(0,d.jsx)("li",{children:e.name},e.id)))}),(0,d.jsx)("h2",{children:"Additional information"}),(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)(l.rU,{to:"cast",children:"Cast"})}),(0,d.jsx)("li",{children:(0,d.jsx)(l.rU,{to:"reviews",children:"Reviews"})})]})]})};function u(){var e,t;const[a,u]=(0,n.useState)({}),{movieId:g}=(0,c.UO)(),[p,j]=(0,n.useState)(!1),v=(0,c.TH)(),x=(0,n.useRef)(null!==(e=null===(t=v.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/");return(0,n.useEffect)((()=>{if(!g)return;(async()=>{j(!0);try{const{results:e}=await(0,s.Y5)(g);u(e)}catch(e){i.ZP.error("Oops! Something went wrong. Please try again later.",e)}finally{j(!1)}})()}),[g]),console.log(a),(0,d.jsxs)("div",{children:[(0,d.jsxs)(l.rU,{to:x.current,children:[(0,d.jsx)(o.hPZ,{}),"Go back"]}),(0,d.jsx)(h,{description:a}),p&&(0,d.jsx)(r.a,{}),(0,d.jsx)(n.Suspense,{fallback:(0,d.jsx)(r.a,{}),children:(0,d.jsx)(c.j3,{})})]})}},641:(e,t,a)=>{a.d(t,{Y5:()=>c,vw:()=>i,wr:()=>n});var r=a(294);r.Z.defaults.baseURL="https://api.themoviedb.org/3";const s="da8b391557d6a67d7aa1304dede81c1a",n=async()=>{try{const e={api_key:s,language:"en-US"},{data:t}=await r.Z.get("/trending/all/day",{params:e});return console.log(t),t}catch(e){throw e}},i=async e=>{try{const t={api_key:s,query:e,include_adult:!1,language:"en-US",page:1},{data:a}=await r.Z.get("/search/movie",{params:t});return a}catch(t){throw t}},c=async e=>{try{const t={api_key:s,language:"en-US"},{data:a}=await r.Z.get("/movie/".concat(e),{params:t});return a}catch(t){throw t}}}}]);
//# sourceMappingURL=286.4e0e30c6.chunk.js.map